(function(t){function e(e){for(var i,o,c=e[0],l=e[1],s=e[2],_=0,v=[];_<c.length;_++)o=c[_],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},"9c0c":function(t,e,n){},bb9a:function(t,e,n){"use strict";var i=n("cbc5"),a=n.n(i);a.a},cbc5:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Game",{attrs:{id:"evolife"}})],1)},r=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"evolife"}},[n("div",{attrs:{id:"evolife--world"}}),n("div",{attrs:{id:"evolife--control-panel"}},[n("div",{attrs:{id:"evolife--controls-wrapper"}},[n("label",[t._v("Steps per second: ")]),n("span",{attrs:{id:"evolife--steps-per-sec"}}),n("div",{attrs:{id:"evolife--speed-ctrl"}},[n("button",{staticClass:"evolife--ctrl-button",attrs:{type:"button",id:"evolife--slower"}},[t._v(" Slower ")]),n("button",{staticClass:"evolife--ctrl-button",attrs:{type:"button",id:"evolife--pause"}},[t._v(" Pause ")]),n("button",{staticClass:"evolife--ctrl-button",attrs:{type:"button",id:"evolife--faster"}},[t._v(" Faster ")]),n("button",{staticClass:"evolife--ctrl-button",attrs:{type:"button",id:"evolife--step",disabled:""}},[t._v(" Step ")])]),n("div",{attrs:{id:"evolife--kill-switch-container"}},[n("select",{attrs:{id:"evolife--kill-options"}},[n("option",{attrs:{value:"Herbivore",selected:""}},[t._v("Herbivore")]),n("option",{attrs:{value:"Carnivore"}},[t._v("Carnivore")]),n("option",{attrs:{value:"Protozoan"}},[t._v("Protozoan")]),n("option",{attrs:{value:"Plant"}},[t._v("Plant")])]),n("button",{staticClass:"evolife--ctrl-button",attrs:{type:"button",id:"evolife--kill"}},[t._v(" Kill All ")])]),n("label",[t._v("Tracked: ")]),n("div",{attrs:{id:"evolife--tracker-display"}},[t._v("Ӝ")]),n("table",{attrs:{id:"evolife--entity-stats"}},[n("tr",[n("th",[t._v("Type")]),n("td",{attrs:{id:"evolife--entity-stats__type"}},[t._v("RainForest")]),n("th",[t._v("Level")]),n("td",{attrs:{id:"evolife--entity-stats__level","data-stat":"level"}},[t._v("3")]),n("th",[t._v("Time to Live")]),n("td",{staticClass:"evolife--entity-stats__last-col",attrs:{"data-stat":"time_to_live",id:"evolife--entity-stats__time-to-live"}},[t._v(" 32 ")])]),n("tr",[n("th",[t._v("Food")]),n("td",{attrs:{id:"evolife--entity-stats__food","data-stat":"food"}},[t._v("5")]),n("th",[t._v("Energy")]),n("td",{attrs:{id:"evolife--entity-stats__energy","data-stat":"energy"}},[t._v("10")]),n("th",[t._v("Health")]),n("td",{staticClass:"evolife--entity-stats__last-col",attrs:{"data-stat":"health",id:"evolife--entity-stats__health"}},[t._v(" 15 ")])]),n("tr",[n("th",[t._v("Attack")]),n("td",{attrs:{id:"evolife--entity-stats__attack","data-stat":"attack"}},[t._v("15")]),n("th",[t._v("Horny")]),n("td",{attrs:{"data-stat":"is_horny",id:"evolife--entity-stats__is-horny"}},[t._v(" Yes ")]),n("th",[t._v("View Range")]),n("td",{staticClass:"evolife--entity-stats__last-col",attrs:{"data-stat":"view_range",id:"evolife--entity-stats__view-range"}},[t._v(" 8 ")])])])]),n("button",{attrs:{type:"button",id:"evolife--toggle-ctrls"}},[t._v(" Show Control Panel ")])])])}],l=(n("fb6a"),n("4ec9"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("ddb0"),n("3835")),s=n("b85c"),u=n("ba42"),_=n("ce69"),v=n("5ffa"),h=n("3997"),f=n("2909"),d=n("45eb"),p=n("7e84"),b=n("bee2"),y=n("262e"),g=n("2caf"),j=n("d4ec"),O=n("267a"),m=n("d40a"),k=n("b8a5"),w=n("6740"),x=n("5422"),E=n("8c5f"),P=n("fcf4"),C=n("c696"),L=n("6071"),B=n("997f"),H=n("73ba"),T=n("73c0"),M=n("5e1b"),N=function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function t(){Object(j["a"])(this,t)}return t}();return function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(){return Object(j["a"])(this,n),e.apply(this,arguments)}return Object(b["a"])(n,[{key:"die",value:function(){return this._tile.remove_entity(this),this._tile=null,this}}]),n}(t)}function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function t(){Object(j["a"])(this,t)}return t}();return function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t,i,a){var r;return Object(j["a"])(this,n),r=e.call(this,t,i),r._lvl=a,r}return Object(b["a"])(n,[{key:"level",get:function(){return this._lvl}}]),n}(t)}var n=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(j["a"])(this,t),this._allows_step=e,n&&(this._tile=n,n.push_entity(this))}return Object(b["a"])(t,[{key:"in_simulation",value:function(){return!!this._tile}},{key:"pos_y",get:function(){return this._tile.pos_y}},{key:"pos_x",get:function(){return this._tile.pos_x}},{key:"tile",get:function(){return this._tile},set:function(t){this._tile=t}},{key:"allows_step",get:function(){return this._allows_step}}]),t}(),i=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t){return Object(j["a"])(this,n),e.call(this,-1/0,t)}return n}(n),a=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t){return Object(j["a"])(this,n),e.call(this,1/0,t)}return n}(n),r=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t){return Object(j["a"])(this,n),e.call(this,-1/0,t)}return Object(b["a"])(n,[{key:"_try_spawning",value:function(){return Object(O["a"])(100)<1&&!this._tile.entity(u)?new u(this._tile):null}},{key:"act",value:function(){return{offspring:this._try_spawning()}}}]),n}(n),o=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t,i){return Object(j["a"])(this,n),e.call(this,t,i)}return Object(b["a"])(n,[{key:"go_to_tile",value:function(t){this._tile.pop_entity(),t.push_entity(this),this._tile=t}},{key:"_grow_older",value:function(){return 0!==this._time_to_live--||(this.die(),!1)}},{key:"time_to_live",get:function(){return this._time_to_live}}]),n}(t(n)),c=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(j["a"])(this,n),i=e.call(this,-1/0,t,a),i._rdy_to_copulate=!1,i}return Object(b["a"])(n,[{key:"_is_hungry",value:function(){return 0===this._food}},{key:"_hunt",value:function(t){var e=this._tile.env_rings[0],n=Object(v["a"])(e,(function(e,n){var i=n.entity(t);i&&e.push(i)}));if(0===n.length)return{ate:!1};var i=Object(m["a"])(n);this._food+=i.health;var a=this._cfg.min_energy_replenish;return this._energy=Object(k["a"])([a,this._energy+1]),this._rdy_to_copulate=!0,(i.health-=this._attack)<=0?{ate:!0,killed_prey:i.die()}:(i instanceof S&&i.level>0&&i.devolve(),{ate:!0})}},{key:"_survive_without_food",value:function(){return this._rdy_to_copulate=!1,0!==this._energy--||(this.die(),!1)}},{key:"_consume_from_food_reserves",value:function(){0===--this._food&&(this._rdy_to_copulate=!1)}},{key:"_try_reproduction",value:function(t){var e=this,n=this._tile.env_rings[0],i=Object(v["a"])(n,(function(n,i){var a=i.entity(t,e._lvl);a&&a.is_horny&&n.push(a)}));if(0===i.length)return null;var a=Object(w["a"])(n,Object(x["a"])("walkable"));if(0===a.length)return null;var r=Object(m["a"])(a);return this._have_sex(Object(m["a"])(i)),Object(O["a"])(100)<this._cfg.lvlup_chance&&this._lvl!=this._cfg.max_level&&r.walkable(this._lvl+1)?new t(r,this._lvl+1):r.walkable(this._lvl)?new t(r,this._lvl):this._devolve(t,r)}},{key:"_have_sex",value:function(t){this._rdy_to_copulate=t._rdy_to_copulate=!1}},{key:"_devolve",value:function(t,e){var n=e.top_entity().level;return new t(e,n-1)}},{key:"_move",value:function(t,e){var n;return this.is_horny?n=this._route_to_mate(t):(this._is_hungry()||2===this._lvl)&&(n=this._route_to_prey(e)),n||(n=this._random_step(),n)?(this.go_to_tile(n),!0):(this.die(),!1)}},{key:"_route_to_mate",value:function(t){var e=this._search_target_candidates(t,this._lvl);return 0===e.length?null:this._make_step_choice(e)}},{key:"_route_to_prey",value:function(t){var e=this._search_target_candidates(t);if(0===e.length)return null;var n=Object(E["a"])(e,"level").level;return e=Object(w["a"])(e,Object(P["a"])({level:Object(C["a"])(L["a"],n)})),this._make_step_choice(e)}},{key:"_search_target_candidates",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(B["a"])(this._tile.env_rings,1,this._view_range),i=[];return Object(h["a"])(n,(function(n){if(i=Object(w["a"])(Object(H["a"])(n,"entity",t,e)),i.length>0)return!1})),i}},{key:"_make_step_choice",value:function(t){var e=Object(m["a"])(t),n=this._tile.env_rings[0],i=this._calculate_step(e),a=n[i];return a.walkable(this._lvl)?a:null}},{key:"_calculate_step",value:function(t){var e=(t.pos_x>this.pos_x)-(t.pos_x<this.pos_x),n=(t.pos_y>this.pos_y)-(t.pos_y<this.pos_y);if(-1==n)switch(e){case-1:return 0;case 0:return 1;case 1:return 2}else if(0===n)switch(e){case-1:return 3;case 1:return 4}else if(1==n)switch(e){case-1:return 5;case 0:return 6;case 1:return 7}}},{key:"_random_step",value:function(){var t=this._tile.env_rings[0],e=Object(w["a"])(t,Object(x["a"])("walkable",this._lvl));return e.length>0?Object(m["a"])(e):null}},{key:"act",value:function(t,e){if(!this._grow_older())return{death:!0};if(this._is_hungry()){var n=this._hunt(e),i=n.ate,a=n.killed_prey;if(i)return{killed_prey:a};if(!this._survive_without_food())return{death:!0}}else if(this._consume_from_food_reserves(),this.is_horny){var r=this._try_reproduction(t);if(r)return{offspring:r}}return{death:!this._move(t,e)}}},{key:"view_range",get:function(){return this._view_range}},{key:"energy",get:function(){return this._energy}},{key:"food",get:function(){return this._food}},{key:"is_horny",get:function(){return this._rdy_to_copulate}},{key:"attack",get:function(){return this._attack}},{key:"health",get:function(){return this._health},set:function(t){this._health=t}}]),n}(e(o)),l=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t,i){var a;Object(j["a"])(this,n);var r=n.config,o=Object(k["a"])([i,r.max_level]);return a=e.call(this,t,o),a._cfg=r,a._view_range=r.view_range[o],a._time_to_live=r.time_to_live[o],a._energy=r.energy[o],a._food=r.food[o],a._health=r.health[o],a._attack=r.attack[o],a}return Object(b["a"])(n,[{key:"act",value:function(){return Object(d["a"])(Object(p["a"])(n.prototype),"act",this).call(this,n,S)}}]),n}(c),s=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t,i){var a;Object(j["a"])(this,n);var r=n.config,o=Object(k["a"])([i,r.max_level]);return a=e.call(this,t,o),a._cfg=r,a._view_range=r.view_range[o],a._time_to_live=r.time_to_live[o],a._energy=r.energy[o],a._food=r.food[o],a._health=r.health[o],a._attack=r.attack[o],a}return Object(b["a"])(n,[{key:"act",value:function(){return Object(d["a"])(Object(p["a"])(n.prototype),"act",this).call(this,n,l)}}]),n}(c),u=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t){var i;return Object(j["a"])(this,n),i=e.call(this,-1/0,t),i._time_to_live=n.config.time_to_live,i}return Object(b["a"])(n,[{key:"_beach_reachable",value:function(){var t=this._tile.env_rings[0];return this._adjacent_beaches=Object(w["a"])(t,Object(x["a"])("walkable")),this._adjacent_beaches.length>0}},{key:"_jump_on_beach",value:function(){this.die();var t=Object(O["a"])(100)<n.config.herby_evo_chance?l:s;return new t(Object(m["a"])(this._adjacent_beaches),0)}},{key:"_move",value:function(){if(!this._grow_older())return!1;var t=this._tile.env_rings[0],e=Object(w["a"])(t,(function(t){return t.top_entity()instanceof r}));return 0===e.length?(this.die(),!1):(this.go_to_tile(Object(m["a"])(e)),!0)}},{key:"act",value:function(){return this._beach_reachable()?{offspring:this._jump_on_beach()}:{death:!this._move()}}}]),n}(o),_=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t,i,a){var r;return Object(j["a"])(this,n),r=e.call(this,t,i,a),r._ticks_to_reproduce=void 0,r}return Object(b["a"])(n,[{key:"_try_growth",value:function(){var t=this._tile.env_rings[0],e=Object(w["a"])(t,Object(x["a"])("empty"));if(e.length>0){if(void 0===this._ticks_to_reproduce)this._ticks_to_reproduce=O["a"].apply(void 0,Object(f["a"])(n.config.ticks_repro_range));else if(--this._ticks_to_reproduce<=0)return this._ticks_to_reproduce=void 0,new S(Object(m["a"])(e),0)}else this._ticks_to_reproduce=void 0;return null}},{key:"act",value:function(){return{offspring:this._try_growth()}}}]),n}(e(n)),N=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t){return Object(j["a"])(this,n),e.call(this,-1/0,t,1/0)}return n}(_),S=function(t){Object(y["a"])(n,t);var e=Object(g["a"])(n);function n(t,i){var a;Object(j["a"])(this,n);var r=n.config,o=Object(k["a"])([i,r.max_level]),c=Math.abs(i-r.max_level);return a=e.call(this,c,t,o),a._health=r.health[o],a._ticks_to_evolve=void 0,a}return Object(b["a"])(n,[{key:"_set_configs",value:function(t){this._lvl=Object(k["a"])([t,n.config.max_level]),this._allows_step=Math.abs(this._lvl-n.config.max_level),this._health=n.config.health[this._lvl],this._ticks_to_evolve=void 0}},{key:"_can_evolve",value:function(){var t=this;if(this._lvl===n.config.max_level)return!1;var e=this._tile.env_rings[0];if(Object(T["a"])(e,(function(e){var n=e.entity(_);return n&&n.level>=t._lvl||e.entity(i)}))){if(void 0===this._ticks_to_evolve){var a=n.config.ticks_evo_range;return this._ticks_to_evolve=O["a"].apply(void 0,Object(f["a"])(a)),!1}return--this._ticks_to_evolve<=0}return this._ticks_to_evolve=void 0,!1}},{key:"_evolve",value:function(){this._set_configs(this._lvl+1),this._ticks_to_evolve=void 0}},{key:"devolve",value:function(){var t=this;Object(h["a"])(Object(M["a"])(n.config.health.length-1),(function(e){if(t._health<=n.config.health[e])return t._set_configs(e),!1}))}},{key:"act",value:function(){return this._can_evolve()?(this._evolve(),{}):Object(d["a"])(Object(p["a"])(n.prototype),"act",this).call(this)}},{key:"health",get:function(){return this._health},set:function(t){this._health=t}}]),n}(t(_));return _.config={ticks_repro_range:[10,40]},S.config={max_level:2,health:[5,10,15],ticks_evo_range:[40,100]},u.config={time_to_live:20,herby_evo_chance:80},l.config={max_level:2,time_to_live:[50,100,150],view_range:[4,6,8],food:[10,10,10],energy:[10,20,30],health:[5,10,15],attack:[5,10,15],lvlup_chance:50,min_energy_replenish:10},s.config={max_level:2,time_to_live:[50,100,150],view_range:[4,6,8],food:[10,10,10],energy:[10,20,30],health:[5,10,15],attack:[5,10,15],lvlup_chance:50,min_energy_replenish:10},i.displayName="Border",r.displayName="Water",a.displayName="Beach",N.displayName="RainForest",S.displayName="Plant",u.displayName="Protozoan",l.displayName="Herbivore",s.displayName="Carnivore",{Border:i,Water:r,Beach:a,RainForest:N,Plant:S,Protozoan:u,Herbivore:l,Carnivore:s}}(),S=N,I=function(){var t=0;function e(e,n){return n[t]}function n(t,e){return e[t.level]}function i(t,i){return 2===t.level?e(t,i.slice(2)):n(t,i)}function a(t,e){return e[0]}var r=new Map([[S.Herbivore,{tokens:"җҖӜ",get_token:n}],[S.Carnivore,{tokens:"ԅԇʡ",get_token:n}],[S.Plant,{tokens:"ʷʬYϒ",get_token:i}],[S.RainForest,{tokens:"Ϋϔ",get_token:e}],[S.Water,{tokens:"∼~",get_token:e}],[S.Protozoan,{tokens:"§",get_token:a}],[S.Beach,{tokens:":",get_token:a}]]);function o(t){var e,n=Object(s["a"])(r.entries());try{for(n.s();!(e=n.n()).done;){var i=Object(l["a"])(e.value,2),a=i[0],o=i[1],c=Object(u["a"])(o.tokens,t);if(c>=0)return a.instance||new a(null,c)}}catch(_){n.e(_)}finally{n.f()}return null}function c(t){if(t){var e,n=Object(s["a"])(r.entries());try{for(n.s();!(e=n.n()).done;){var i=Object(l["a"])(e.value,2),a=i[0],o=i[1];if(t instanceof a)return{token:o.get_token(t,o.tokens),css_class:"evolife--".concat(a.displayName.toLowerCase())}}}catch(c){n.e(c)}finally{n.f()}}return{token:" ",css_class:""}}function f(t){return Object(_["a"])(t,(function(t){return Object(_["a"])(t.split(""),(function(t){return o(t)}))}))}function d(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return n&&(t=0===t?1:0),Object(v["a"])(e,(function(t,e,n){Object(h["a"])(e,(function(a,r){var o=c(a),l=o.token,s=o.css_class,u=document.createElement("span");s&&(u.className=s),n*e.length+r===i&&(u.id="evolife--tracked"),u.appendChild(document.createTextNode(l)),t.appendChild(u)})),t.appendChild(document.createTextNode("\n"))}),document.createElement("pre"))}return{entity_to_token:c,parse_initial_map:f,build_html_map:d}}(),A=I,z=(n("99af"),n("4160"),n("159b"),n("5530")),F=n("e133"),R=n("a809"),W=n("0a94"),$=n("9429"),q=function(){function t(e,n){Object(j["a"])(this,t),this.pos_y=e,this.pos_x=n,this.env_rings=[],this._entity_stack=[]}return Object(b["a"])(t,[{key:"push_entity",value:function(t){this._entity_stack.push(t)}},{key:"pop_entity",value:function(){return this._entity_stack.pop()||null}},{key:"remove_entity",value:function(t){Object(F["a"])(this._entity_stack,t)}},{key:"top_entity",value:function(){return Object(R["a"])(this._entity_stack)||null}},{key:"entity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object(W["a"])(this._entity_stack,(function(n){if(n instanceof t)return void 0===e||n.level===e}))}},{key:"empty",value:function(){return!this.top_entity()}},{key:"walkable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return!!this.empty()||!Object($["a"])(this._entity_stack,(function(e){return e.allows_step<t}))}}]),t}(),G=q,Y=n("1b1b"),J=n("a8c4"),K=n("b978"),V=n("5b2e"),D=function(){var t=[],e=new Map(Object(_["a"])(S,(function(t){return[t,[]]})));function n(n){t=Object(_["a"])(n,(function(t,n){return Object(_["a"])(t,(function(t,i){var a=new G(n,i);return t&&(a.push_entity(t),t.tile=a,e.forEach((function(e,n){t instanceof n&&e.push(t)}))),a}))})),i(t)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;Object(h["a"])(t,(function(n,i){return Object(h["a"])(n,(function(n,r){return Object(h["a"])(Object(M["a"])(1,e+1),(function(e){return n.env_rings.push(a(t,i,r,e))}))}))}))}function a(t,e,n,i){var a,o=[],c=e-i;return Object(h["a"])(Object(M["a"])(-i,i+1),(function(e){a=n+e,r(o,t,c,a,i)})),a=n-i,Object(h["a"])(Object(M["a"])(1-i,i),(function(n){c=e+n,r(o,t,c,a,i)})),a=n+i,Object(h["a"])(Object(M["a"])(1-i,i),(function(n){c=e+n,r(o,t,c,a,i)})),c=e+i,Object(h["a"])(Object(M["a"])(-i,i+1),(function(e){a=n+e,r(o,t,c,a,i)})),o}function r(t,e,n,i,a){e[n]&&e[n][i]?t.push(e[n][i]):1===a&&(S.Border.dummy||(S.Border.dummy=new S.Border(new G)),t.push(S.Border.dummy.tile))}function o(){u(S.Carnivore,S.Herbivore),u(S.Herbivore,S.Plant),c(),l(),s()}function c(){var t=e.get(S.Plant),n=Object(Y["a"])(t,e.get(S.RainForest)),i=Object(v["a"])(n,(function(t,e){var n=e.act(),i=n.offspring;i&&t.push(i)}));e.set(S.Plant,Object(Y["a"])(t,i))}function l(){var t=e.get(S.Protozoan),n=Object(v["a"])(t,(function(t,n){var i=n.act(),a=i.offspring,r=i.death;a?(Object(h["a"])([S.Herbivore,S.Carnivore],(function(t){a instanceof t&&e.get(t).push(a)})),t.push(n)):r&&t.push(n)}));Object(J["a"])(t,n)}function s(){var t=e.get(S.Water),n=Object(v["a"])(t,(function(t,e){var n=e.act(),i=n.offspring;i&&t.push(i)})),i=e.get(S.Protozoan);e.set(S.Protozoan,i.concat(n))}function u(t,n){var i=Object(_["a"])(e.get(t),(function(t){return Object(z["a"])({hunter:t},t.act())})),a=Object(_["a"])(Object(K["a"])(i,"death"),"hunter"),r=Object(_["a"])(Object(w["a"])(i,"offspring"),"offspring"),o=Object(_["a"])(Object(w["a"])(i,"killed_prey"),"killed_prey");e.set(n,Object(V["a"])(e.get(n),o)),e.set(t,Object(Y["a"])(a,r))}function f(){return Object(_["a"])(t,(function(t){return Object(H["a"])(t,"top_entity")}))}function d(e,n){return t[e][n].top_entity()}function p(t){var n=S[t];Object(H["a"])(e.get(n),"die"),e.set(n,[])}return Object.create(Object.prototype,{setup_tile_map:{value:n},update:{value:o},entity_map:{get:f},get_entity:{value:d},kill_entity_type:{value:p}})}(),Q=D,U=(n("a630"),n("b680"),n("2c30")),X=n("9caa"),Z="evolife--",tt=function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=A.build_html_map(t,e,n),a=document.getElementById("".concat(Z,"world")),r=a.firstElementChild;r&&a.removeChild(r),a.appendChild(i)}function e(t){var e="".concat(Z,"tracked"),n=document.getElementById(e);if(n&&(n.id=""),void 0!==t){var i=document.querySelector("#".concat(Z,"world pre"));i.children[t].id=e}}function n(t){i(t),a(t)}function i(t){var e=document.getElementById("".concat(Z,"tracker-display"));if(!t)return e.className="",void(e.innerHTML="");var n=A.entity_to_token(t),i=n.token,a=n.css_class;e.className=a,e.innerHTML=i}function a(t){var e=document.getElementById("".concat(Z,"entity-stats")),n="".concat(Z,"entity-stats__"),i=Array.from(e.getElementsByTagName("td")),a=e.querySelector("#".concat(n,"type"));Object(F["a"])(i,a),a.innerHTML=t?Object(U["a"])(S,(function(e){return t instanceof e})):"-";for(var r=0,o=i;r<o.length;r++){var c=o[r],l=c.dataset.stat;if(t&&void 0!==t[l]&&t[l]!==1/0){var s=t[l];"level"===l?++s:"is_horny"===l&&(s=["No","Yes"][0+s]),c.innerHTML=s}else c.innerHTML="-"}}function r(t){var e=(1e3/t).toFixed(2);document.querySelector("#".concat(Z,"steps-per-sec")).innerHTML=Object(X["a"])(e,5,String.fromCharCode(160))}return{update_world:t,highlight_watched_on_map:e,update_watched_info:n,update_speed:r}}(),et=tt,nt=["∼~∼~∼~∼~∼~∼:::ʷ ʷ ʷ                                                                                                                       ","∼~∼~∼~∼~∼~∼~∼::: ʷ ʷ                                                                                                                      ","∼~∼~∼~∼~∼~∼~∼~∼:: ʷ                                                ʷʷ                                                                     ","∼~∼~∼~∼~∼~∼~∼::: ʷ ʷ                                            ʷ ϔϔϔϔʷ                                                                   ","∼~∼~∼~∼~∼~∼~∼::ʷ ʷ                                               ϔϔϔϔϔϔ                                                                   ","∼~∼~∼~∼~∼::::: ʷ                                                 ʷϔϔϔϔ ʷ                                              ʷ                   ","∼~∼~∼~∼:::ʷ ʷ ʷ                                                     ʷ                                             ʷ  ʷϔϔ                  ","∼~∼~∼~∼:: ʷ ʷ                                                                                                    ʷϔϔϔϔϔϔϔϔʷ               ","∼~∼~∼:::ʷ ʷ                                                                                                        ϔϔϔϔϔϔ                 ","∼~∼::: ʷ ʷ                                                                                                         ʷϔϔʷ  ʷ                ","::::ʷ ʷ                                                                                                                                   ","ʷ ʷ ʷ                                                                                                                                     "," ʷ                                                                                                                                        ","                                                                                                                                          ","                                                                                                                                          ","                            ʷ                                                                                                             ","                            ϔϔʷ                                                                                                           ","                          ʷϔϔϔϔ                                                                                                           ","                            ϔϔϔʷ                                                                                                     ʷ ʷ ʷ","                           ʷ ϔϔ                                                                                                 ʷ ʷ ʷ ʷ ʷ ","                              ʷ                                                                                              ʷ ʷ ʷ :::::::","                                                                                                                         ʷ ʷ ʷ:::::::~∼~∼~","                                                                     ʷ  ʷʷ                                              ʷ ʷ::::∼~∼~∼~∼~∼~∼","                                                                      ϔϔϔϔϔϔʷ ʷ                                       ʷ ʷ ::∼~∼~∼~∼~∼~∼~∼~","                                                                   ʷϔϔϔϔϔϔϔϔϔϔϔ                                        ʷ ʷ ::∼~∼~∼~∼~∼~∼~∼","                                                                    ʷ ϔϔϔϔϔϔϔʷ                                            ʷ ʷ::~∼~∼~∼~∼~∼~","                                                                       ʷϔϔϔϔʷ                                           ʷ ʷ ::~∼~∼~∼~∼~∼~∼","                                                                         ʷ   ʷ                                         ʷ ʷ:::~∼~∼~∼~∼~∼~∼~","                                                                                                                      ʷ ʷ::∼~∼~∼~∼~∼~∼~∼~∼","                                                                                                                     ʷ ʷ ::~∼~∼~∼~∼~∼~∼~∼~","                                                                                                                       ʷ ʷ::~∼~∼~∼~∼~∼~∼~∼","                                                                                                                      ʷ ʷ ::∼~∼~∼~∼~∼~∼~∼~","                                                                                                                        ʷ ʷ:::~∼~∼~∼~∼~∼~∼"],it=function(){var t,e,n,i=500,a=100,r=1e3,o=100,c=!1;function l(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=h();et.update_world(Q.entity_map,t,n),et.update_watched_info(e)}function s(){Q.update(),l()}function u(){t=setTimeout(u,i),s()}function _(){var t=A.parse_initial_map(nt);n=t[0].length,Q.setup_tile_map(t),et.update_speed(i),l(!1),setTimeout(u,i)}function v(t){var i=Math.floor(t/n),a=t%n;e=Q.get_entity(i,a),e||(t=void 0),et.highlight_watched_on_map(t),et.update_watched_info(e)}function h(){var t;return e&&(e.in_simulation()?t=e.pos_y*n+e.pos_x:e=null),t}function f(){return i<r&&(i+=a,et.update_speed(i)),{step_duration:i,limit_reached:i==r}}function d(){return i>o&&(i-=a,et.update_speed(i)),{step_duration:i,limit_reached:i==o}}function p(){return c?(c=!1,u(),!0):(c=!0,clearTimeout(t),!1)}function b(t){Q.kill_entity_type(t),l(!1)}return{start_simulation:_,step:s,set_watched_entity:v,slow_down_interval:f,speed_up_interval:d,stop_resume:p,kill_all_of:b}}(),at=it,rt=(n("498a"),function(){var t,e,n,i,a,r,o;function c(){e=document.getElementById("".concat(Z,"faster")),t=document.getElementById("".concat(Z,"slower")),n=document.getElementById("".concat(Z,"pause")),i=document.getElementById("".concat(Z,"step")),a=document.getElementById("".concat(Z,"kill")),r=document.getElementById("".concat(Z,"kill-options")),o=document.getElementById("".concat(Z,"toggle-ctrls")),e.addEventListener("click",s),t.addEventListener("click",l),n.addEventListener("click",_),a.addEventListener("click",h),i.setAttribute("disabled",""),o.addEventListener("click",f),document.getElementById("evolife--world").addEventListener("mouseup",d)}function l(n){var i=at.slow_down_interval(),a=(i.step_duration,i.limit_reached);a?(t.setAttribute("disabled",""),t.removeEventListener("click",l)):e.hasAttribute("disabled")&&(e.removeAttribute("disabled"),e.addEventListener("click",s))}function s(n){var i=at.speed_up_interval(),a=(i.step_duration,i.limit_reached);a?(e.setAttribute("disabled",""),e.removeEventListener("click",s)):t.hasAttribute("disabled")&&(t.removeAttribute("disabled"),t.addEventListener("click",l))}function _(t){at.stop_resume()?(n.innerHTML="Pause",i.setAttribute("disabled",""),i.removeEventListener("click",v)):(n.innerHTML="Resume",i.removeAttribute("disabled"),i.addEventListener("click",v))}function v(t){at.step()}function h(t){at.kill_all_of(r.value)}function f(t){var e=document.getElementById("".concat(Z,"controls-wrapper"));"Show Control Panel"===o.innerHTML.trim()?(e.style.height=e.scrollHeight+"px",e.style.opacity=1,e.style.marginBottom="12px",o.innerHTML="Hide Control Panel"):(e.style.height=0,e.style.opacity=0,e.style.marginBottom=0,o.innerHTML="Show Control Panel")}function d(t){var e=t.target;at.set_watched_entity(Object(u["a"])(e.parentNode.children,e))}return{setup_event_listeners:c}}()),ot=rt,ct=i["a"].extend({name:"Game",mounted:function(){ot.setup_event_listeners(),at.start_simulation()}}),lt=ct,st=(n("bb9a"),n("2877")),ut=Object(st["a"])(lt,o,c,!1,null,null,null),_t=ut.exports,vt=i["a"].extend({name:"app",components:{Game:_t}}),ht=vt,ft=(n("5c0b"),Object(st["a"])(ht,a,r,!1,null,null,null)),dt=ft.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(dt)}}).$mount("#app")}});
//# sourceMappingURL=app-legacy.2dbe6517.js.map